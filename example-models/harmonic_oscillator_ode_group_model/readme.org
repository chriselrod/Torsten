* Description
Parameter inference for the harmonic oscillator ODE using
Torsten's ODE group integrator =pmx_integrate_ode_group_rk45=.
* Build
** Edit/Add =cmdstan/make/local=
#+BEGIN_SRC sh
  TORSTEN_MPI = 1                                         # flag on torsten's MPI solvers
  -include $(MATH)make/setup_torsten.mk
  CXXFLAGS += $(CXXFLAGS_MPI) -isystem /usr/local/include # path to MPI library's headers
  LDFLAGS += $(LDFLAGS_MPI)
  CC=mpicxx                                               # name of mpi compilers
  CXX=mpicxx
#+END_SRC
** Build in =cmdstan=
#+BEGIN_SRC sh
  make ../example-models/harmonic_oscillator_ode_group_model/sho_group
#+END_SRC
   
* Run
#+BEGIN_SRC sh
mpiexec -n 2 sho_group sample data file=sho_group.data.R
#+END_SRC

* Results
Three chains are run using 
- sequential run using Stan's =bdf= integrator(output =stan_sample.1-4.csv=)
- sequential run using Torsten's =bdf= integrator(output =pmx_sample.1-4.csv=)
- MPI run using Torsten's =bdf= group integrator(output =mpi_sample.1-4.csv=)

The wall time of sequential runs and MPI runs(in seconds):
#+caption: Wall time(s)
| chain | sequential stan | sequential pmx | MPI pmx |
|-------+-----------------+----------------+---------|
|     1 |              31 |             21 |      10 |
|     2 |              31 |             21 |      10 |
|     3 |              32 |             21 |      10 |
|     4 |              32 |             21 |      10 |

